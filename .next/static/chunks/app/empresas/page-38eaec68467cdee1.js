(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[231],{51947:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>er});var l=s(95155),t=s(36595),r=s(12115),i=s(78266),n=s(17470),c=s(67143),d=s(11772),o=s(39246),x=s(54392),u=s(72957),m=s(99318),h=s(87029),g=s(36268),p=s(11032),v=s(55594),j=s(21492),f=s(99708),b=s(74466),N=s(53999);let w=(0,b.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/70",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function y(e){let{className:a,variant:s,asChild:t=!1,...r}=e,i=t?f.DX:"span";return(0,l.jsx)(i,{"data-slot":"badge",className:(0,N.cn)(w({variant:s}),a),...r})}var S=s(97168),C=s(89852),R=s(82714),z=s(95784);function k(e){let{className:a,...s}=e;return(0,l.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,l.jsx)("table",{"data-slot":"table",className:(0,N.cn)("w-full caption-bottom text-sm",a),...s})})}function P(e){let{className:a,...s}=e;return(0,l.jsx)("thead",{"data-slot":"table-header",className:(0,N.cn)("[&_tr]:border-b",a),...s})}function $(e){let{className:a,...s}=e;return(0,l.jsx)("tbody",{"data-slot":"table-body",className:(0,N.cn)("[&_tr:last-child]:border-0",a),...s})}function E(e){let{className:a,...s}=e;return(0,l.jsx)("tr",{"data-slot":"table-row",className:(0,N.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",a),...s})}function L(e){let{className:a,...s}=e;return(0,l.jsx)("th",{"data-slot":"table-head",className:(0,N.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...s})}function A(e){let{className:a,...s}=e;return(0,l.jsx)("td",{"data-slot":"table-cell",className:(0,N.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...s})}var M=s(60704);function K(e){let{className:a,...s}=e;return(0,l.jsx)(M.bL,{"data-slot":"tabs",className:(0,N.cn)("flex flex-col gap-2",a),...s})}function _(e){let{className:a,...s}=e;return(0,l.jsx)(M.UC,{"data-slot":"tabs-content",className:(0,N.cn)("flex-1 outline-none",a),...s})}var F=s(67133);function I(e){var a,s;let{data:t,onCompanySelect:i,selectedCompany:n,onShowListChange:v}=e,[f]=r.useState(()=>t),[b,N]=r.useState({}),[w,M]=r.useState([]),[I,D]=r.useState({pageIndex:0,pageSize:10}),[J,O]=r.useState(""),[B,G]=r.useState(!1),[H,V]=r.useState("header"),[W,T]=r.useState("asc");r.useEffect(()=>{G(!1),null==v||v(!1)},[n,v]);let q=e=>{G(e),null==v||v(e),e&&(null==i||i(null))},Q=e=>{H===e?T("asc"===W?"desc":"asc"):(V(e),T("asc"))},U=r.useMemo(()=>{let e=[...f];return J&&(e=e.filter(e=>e.header.toLowerCase().includes(J.toLowerCase()))),e.sort((e,a)=>{let s=0;switch(H){case"header":default:s=e.header.localeCompare(a.header);break;case"type":s=e.type.localeCompare(a.type);break;case"status":s=e.status.localeCompare(a.status);break;case"target":s=Number(e.target.replace(/[^\d,]/g,"").replace(",","."))-Number(a.target.replace(/[^\d,]/g,"").replace(",","."));break;case"limit":s=Number(e.limit.replace(/[^\d,]/g,"").replace(",","."))-Number(a.limit.replace(/[^\d,]/g,"").replace(",","."));break;case"reviewer":s=e.reviewer.localeCompare(a.reviewer)}return"asc"===W?s:-s}),e},[f,J,H,W]),X=[{id:"icon",header:()=>null,cell:()=>(0,l.jsx)("div",{className:"flex items-center justify-center",children:(0,l.jsx)(c.A,{className:"text-muted-foreground size-4"})}),enableSorting:!1,enableHiding:!1},{accessorKey:"header",header:"Empresa",cell:e=>{let{row:a}=e,s=n===a.original.id;return(0,l.jsx)("div",{className:s?"font-bold":"",children:a.getValue("header")})},enableHiding:!1,size:400},{accessorKey:"type",header:"Tipo",cell:e=>{let{row:a}=e;return(0,l.jsx)("div",{className:"capitalize",children:a.original.type})},size:200},{accessorKey:"status",header:"Status",cell:e=>{let{row:a}=e,s=a.original.status;return(0,l.jsx)(y,{variant:"Ativa"===s?"default":"secondary",className:"capitalize",children:s})},size:200},{accessorKey:"target",header:"Meta",cell:e=>{let{row:a}=e;return(0,l.jsx)("div",{children:a.original.target})},size:200},{accessorKey:"limit",header:"Limite",cell:e=>{let{row:a}=e;return(0,l.jsx)("div",{children:a.original.limit})},size:200},{accessorKey:"reviewer",header:"Respons\xe1vel",cell:e=>{let{row:a}=e;return(0,l.jsx)("div",{className:"capitalize",children:a.original.reviewer})},size:200}],Y=(0,g.N4)({data:U,columns:X,state:{sorting:w,columnVisibility:b,pagination:I},getRowId:e=>e.id.toString(),onSortingChange:M,onColumnVisibilityChange:N,onPaginationChange:D,getCoreRowModel:(0,p.HT)(),getPaginationRowModel:(0,p.kW)(),getSortedRowModel:(0,p.h5)()});return(0,l.jsxs)(K,{defaultValue:"outline",className:"w-full flex-col justify-start gap-8",children:[(0,l.jsx)("div",{className:"flex items-center justify-between px-4 lg:px-6",children:(0,l.jsxs)("div",{className:"flex w-full flex-col gap-2",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)("div",{className:"flex-1",children:(0,l.jsx)(C.p,{placeholder:"Buscar empresa",value:J,onChange:e=>O(e.target.value),className:"h-8 w-full",disabled:!B&&null!==n})}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[n&&!B&&(0,l.jsxs)(S.$,{variant:"outline",size:"sm",onClick:()=>q(!0),className:"flex items-center gap-2",children:[(0,l.jsx)(d.A,{}),(0,l.jsx)("span",{children:"Mostrar Listagem"})]}),(0,l.jsxs)(F.rI,{children:[(0,l.jsx)(F.ty,{asChild:!0,children:(0,l.jsxs)(S.$,{variant:"outline",size:"sm",className:"gap-2",disabled:!B&&null!==n,children:[(0,l.jsx)(j.A,{className:"h-4 w-4"}),"Ordenar por",(0,l.jsx)(o.A,{className:"h-4 w-4"})]})}),(0,l.jsxs)(F.SQ,{align:"end",className:"w-56",children:[(0,l.jsxs)(F._2,{onClick:()=>Q("header"),children:["Nome ","header"===H&&("asc"===W?"↑":"↓")]}),(0,l.jsxs)(F._2,{onClick:()=>Q("type"),children:["Tipo ","type"===H&&("asc"===W?"↑":"↓")]}),(0,l.jsxs)(F._2,{onClick:()=>Q("status"),children:["Status ","status"===H&&("asc"===W?"↑":"↓")]}),(0,l.jsxs)(F._2,{onClick:()=>Q("target"),children:["Meta ","target"===H&&("asc"===W?"↑":"↓")]}),(0,l.jsxs)(F._2,{onClick:()=>Q("limit"),children:["Limite ","limit"===H&&("asc"===W?"↑":"↓")]}),(0,l.jsxs)(F._2,{onClick:()=>Q("reviewer"),children:["Respons\xe1vel ","reviewer"===H&&("asc"===W?"↑":"↓")]})]})]})]})]}),n&&!B&&(0,l.jsx)("div",{className:"text-center text-lg font-semibold",children:null==(a=f.find(e=>e.id===n))?void 0:a.header})]})}),(!n||B)&&(0,l.jsxs)(_,{value:"outline",className:"relative flex flex-col gap-4 overflow-auto px-4 lg:px-6",children:[(0,l.jsx)("div",{className:"overflow-hidden rounded-lg border",children:(0,l.jsxs)(k,{children:[(0,l.jsx)(P,{className:"bg-muted sticky top-0 z-10",children:Y.getHeaderGroups().map(e=>(0,l.jsx)(E,{children:e.headers.map(e=>(0,l.jsx)(L,{colSpan:e.colSpan,children:e.isPlaceholder?null:(0,g.Kv)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),(0,l.jsx)($,{className:"**:data-[slot=table-cell]:first:w-8",children:(null==(s=Y.getRowModel().rows)?void 0:s.length)?Y.getRowModel().rows.map(e=>(0,l.jsx)(Z,{row:e,onCompanySelect:i},e.id)):(0,l.jsx)(E,{children:(0,l.jsx)(A,{colSpan:X.length,className:"h-24 text-center",children:"Nenhum resultado encontrado."})})})]})}),(0,l.jsxs)("div",{className:"flex items-center justify-between px-4",children:[(0,l.jsxs)("div",{className:"text-muted-foreground hidden flex-1 text-sm lg:flex",children:[Y.getFilteredRowModel().rows.length," empresas no total"]}),(0,l.jsxs)("div",{className:"flex w-full items-center gap-8 lg:w-fit",children:[(0,l.jsxs)("div",{className:"hidden items-center gap-2 lg:flex",children:[(0,l.jsx)(R.J,{htmlFor:"rows-per-page",className:"text-sm font-medium",children:"Exibir"}),(0,l.jsxs)(z.l6,{value:"".concat(Y.getState().pagination.pageSize),onValueChange:e=>{Y.setPageSize(Number(e))},children:[(0,l.jsx)(z.bq,{size:"sm",className:"w-20",id:"rows-per-page",children:(0,l.jsx)(z.yv,{placeholder:Y.getState().pagination.pageSize})}),(0,l.jsx)(z.gC,{side:"top",children:[10,20,30,40,50].map(e=>(0,l.jsx)(z.eb,{value:"".concat(e),children:e},e))})]})]}),(0,l.jsxs)("div",{className:"flex w-fit items-center justify-center text-sm font-medium",children:["P\xe1gina ",Y.getState().pagination.pageIndex+1," de"," ",Y.getPageCount()]}),(0,l.jsxs)("div",{className:"ml-auto flex items-center gap-2 lg:ml-0",children:[(0,l.jsxs)(S.$,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>Y.setPageIndex(0),disabled:!Y.getCanPreviousPage(),children:[(0,l.jsx)("span",{className:"sr-only",children:"Go to first page"}),(0,l.jsx)(x.A,{})]}),(0,l.jsxs)(S.$,{variant:"outline",className:"size-8",size:"icon",onClick:()=>Y.previousPage(),disabled:!Y.getCanPreviousPage(),children:[(0,l.jsx)("span",{className:"sr-only",children:"Go to previous page"}),(0,l.jsx)(u.A,{})]}),(0,l.jsxs)(S.$,{variant:"outline",className:"size-8",size:"icon",onClick:()=>Y.nextPage(),disabled:!Y.getCanNextPage(),children:[(0,l.jsx)("span",{className:"sr-only",children:"Go to next page"}),(0,l.jsx)(m.A,{})]}),(0,l.jsxs)(S.$,{variant:"outline",className:"hidden size-8 lg:flex",size:"icon",onClick:()=>Y.setPageIndex(Y.getPageCount()-1),disabled:!Y.getCanNextPage(),children:[(0,l.jsx)("span",{className:"sr-only",children:"Go to last page"}),(0,l.jsx)(h.A,{})]})]})]})]})]}),(0,l.jsx)(_,{value:"past-performance",className:"flex flex-col px-4 lg:px-6",children:(0,l.jsx)("div",{className:"aspect-video w-full flex-1 rounded-lg border border-dashed"})}),(0,l.jsx)(_,{value:"key-personnel",className:"flex flex-col px-4 lg:px-6",children:(0,l.jsx)("div",{className:"aspect-video w-full flex-1 rounded-lg border border-dashed"})}),(0,l.jsx)(_,{value:"focus-documents",className:"flex flex-col px-4 lg:px-6",children:(0,l.jsx)("div",{className:"aspect-video w-full flex-1 rounded-lg border border-dashed"})})]})}function Z(e){let{row:a,onCompanySelect:s}=e,{transform:t,transition:r,setNodeRef:c,isDragging:d}=(0,n.gl)({id:a.original.id});return(0,l.jsx)(E,{"data-dragging":d,ref:c,className:"relative z-0 data-[dragging=true]:z-10 data-[dragging=true]:opacity-80 cursor-pointer hover:bg-muted/50 py-4",style:{transform:i.Ks.Transform.toString(t),transition:r},onClick:()=>null==s?void 0:s(a.original.id),children:a.getVisibleCells().map(e=>(0,l.jsx)(A,{className:"py-4 ".concat("header"===e.column.id?"w-[40%]":"w-[12%]"),children:(0,g.Kv)(e.column.columnDef.cell,e.getContext())},e.id))})}v.z.object({id:v.z.number(),header:v.z.string(),type:v.z.string(),status:v.z.string(),target:v.z.string(),limit:v.z.string(),reviewer:v.z.string()});var D=s(33888),J=s(81864),O=s(88482),B=s(83540),G=s(8782),H=s(34e3),V=s(54811),W=s(94517),T=s(3401),q=s(94754),Q=s(96025),U=s(16238),X=s(83394);let Y=[{id:1,header:"Empresa A",type:"Simples Nacional",status:"Ativa",target:"R$ 1.000.000,00",limit:"R$ 500.000,00",reviewer:"Jo\xe3o Silva"},{id:2,header:"Empresa B",type:"Lucro Presumido",status:"Inativa",target:"R$ 500.000,00",limit:"R$ 250.000,00",reviewer:"Maria Santos"},{id:3,header:"Empresa C",type:"Lucro Real",status:"Ativa",target:"R$ 2.000.000,00",limit:"R$ 1.000.000,00",reviewer:"Pedro Oliveira"},{id:4,header:"Empresa D",type:"Simples Nacional",status:"Ativa",target:"R$ 750.000,00",limit:"R$ 375.000,00",reviewer:"Jo\xe3o Silva"},{id:5,header:"Empresa E",type:"Lucro Real",status:"Ativa",target:"R$ 3.000.000,00",limit:"R$ 1.500.000,00",reviewer:"Maria Santos"},{id:6,header:"Empresa F",type:"Lucro Presumido",status:"Inativa",target:"R$ 1.200.000,00",limit:"R$ 600.000,00",reviewer:"Pedro Oliveira"},{id:7,header:"Empresa G",type:"Simples Nacional",status:"Ativa",target:"R$ 900.000,00",limit:"R$ 450.000,00",reviewer:"Jo\xe3o Silva"},{id:8,header:"Empresa H",type:"Lucro Real",status:"Ativa",target:"R$ 2.500.000,00",limit:"R$ 1.250.000,00",reviewer:"Maria Santos"},{id:9,header:"Empresa I",type:"Lucro Presumido",status:"Inativa",target:"R$ 800.000,00",limit:"R$ 400.000,00",reviewer:"Pedro Oliveira"},{id:10,header:"Empresa J",type:"Simples Nacional",status:"Ativa",target:"R$ 1.500.000,00",limit:"R$ 750.000,00",reviewer:"Jo\xe3o Silva"}],ee=[{name:"Simples Nacional",value:4},{name:"Lucro Presumido",value:3},{name:"Lucro Real",value:3}],ea=[{name:"Ativa",value:7},{name:"Inativa",value:3}],es=Y.map(e=>({name:e.header,meta:parseFloat(e.target.replace(/[^\d,]/g,"").replace(",",".")),limite:parseFloat(e.limit.replace(/[^\d,]/g,"").replace(",","."))})),el=[{name:"Jo\xe3o Silva",value:4},{name:"Maria Santos",value:3},{name:"Pedro Oliveira",value:3}],et=["#008c6e","#00b894","#00cec9","#81ecec"];function er(){let[e,a]=(0,r.useState)(null),[s,i]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{i(!1)},[e]),(0,l.jsxs)(J.SidebarProvider,{style:{"--sidebar-width":"calc(var(--spacing) * 72)","--header-height":"calc(var(--spacing) * 12)"},children:[(0,l.jsx)(t.AppSidebar,{variant:"inset"}),(0,l.jsxs)(J.SidebarInset,{children:[(0,l.jsx)(D.SiteHeader,{}),(0,l.jsx)("div",{className:"flex flex-1 flex-col",children:(0,l.jsx)("div",{className:"@container/main flex flex-1 flex-col gap-2",children:(0,l.jsxs)("div",{className:"flex flex-col gap-4 py-4 md:gap-6 md:py-6",children:[(0,l.jsx)("div",{className:"px-4 lg:px-6",children:(0,l.jsx)("div",{className:"rounded-lg border bg-card text-card-foreground shadow-sm",children:(0,l.jsx)("div",{className:"p-8",children:(0,l.jsx)(I,{data:Y,onCompanySelect:a,selectedCompany:e,onShowListChange:i})})})}),e&&!s&&(0,l.jsxs)("div",{className:"grid grid-cols-1 gap-4 px-4 lg:px-6 md:grid-cols-2",children:[(0,l.jsxs)(O.Zp,{children:[(0,l.jsx)(O.aR,{children:(0,l.jsx)(O.ZB,{children:"Distribui\xe7\xe3o por Tipo"})}),(0,l.jsx)(O.Wu,{children:(0,l.jsx)("div",{className:"h-[300px]",children:(0,l.jsx)(B.u,{width:"100%",height:"100%",children:(0,l.jsxs)(G.r,{children:[(0,l.jsx)(H.F,{data:ee,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:a,percent:s}=e;return"".concat(a," (").concat((100*s).toFixed(0),"%)")},outerRadius:80,fill:"#8884d8",dataKey:"value",children:ee.map((e,a)=>(0,l.jsx)(V.f,{fill:et[a%et.length]},"cell-".concat(a)))}),(0,l.jsx)(W.m,{})]})})})})]}),(0,l.jsxs)(O.Zp,{children:[(0,l.jsx)(O.aR,{children:(0,l.jsx)(O.ZB,{children:"Status das Empresas"})}),(0,l.jsx)(O.Wu,{children:(0,l.jsx)("div",{className:"h-[300px]",children:(0,l.jsx)(B.u,{width:"100%",height:"100%",children:(0,l.jsxs)(G.r,{children:[(0,l.jsx)(H.F,{data:ea,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:a,percent:s}=e;return"".concat(a," (").concat((100*s).toFixed(0),"%)")},outerRadius:80,fill:"#8884d8",dataKey:"value",children:ea.map((e,a)=>(0,l.jsx)(V.f,{fill:et[a%et.length]},"cell-".concat(a)))}),(0,l.jsx)(W.m,{})]})})})})]}),(0,l.jsxs)(O.Zp,{children:[(0,l.jsx)(O.aR,{children:(0,l.jsx)(O.ZB,{children:"Meta vs Limite"})}),(0,l.jsx)(O.Wu,{children:(0,l.jsx)("div",{className:"h-[300px]",children:(0,l.jsx)(B.u,{width:"100%",height:"100%",children:(0,l.jsxs)(T.E,{data:es,children:[(0,l.jsx)(q.d,{strokeDasharray:"3 3"}),(0,l.jsx)(Q.W,{dataKey:"name"}),(0,l.jsx)(U.h,{}),(0,l.jsx)(W.m,{}),(0,l.jsx)(X.y,{dataKey:"meta",fill:"#008c6e",name:"Meta"}),(0,l.jsx)(X.y,{dataKey:"limite",fill:"#00b894",name:"Limite"})]})})})})]}),(0,l.jsxs)(O.Zp,{children:[(0,l.jsx)(O.aR,{children:(0,l.jsx)(O.ZB,{children:"Distribui\xe7\xe3o por Respons\xe1vel"})}),(0,l.jsx)(O.Wu,{children:(0,l.jsx)("div",{className:"h-[300px]",children:(0,l.jsx)(B.u,{width:"100%",height:"100%",children:(0,l.jsxs)(G.r,{children:[(0,l.jsx)(H.F,{data:el,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:a,percent:s}=e;return"".concat(a," (").concat((100*s).toFixed(0),"%)")},outerRadius:80,fill:"#8884d8",dataKey:"value",children:el.map((e,a)=>(0,l.jsx)(V.f,{fill:et[a%et.length]},"cell-".concat(a)))}),(0,l.jsx)(W.m,{})]})})})})]})]})]})})})]})]})}},77689:(e,a,s)=>{Promise.resolve().then(s.bind(s,51947))}},e=>{var a=a=>e(e.s=a);e.O(0,[81,642,873,468,462,441,684,358],()=>a(77689)),_N_E=e.O()}]);